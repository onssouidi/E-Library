<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title th:text="#{page.title}">Books</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-blue-50 text-gray-800 font-sans">

<!-- Header with Logo and Navigation -->
<header class="bg-white shadow-lg">
    <div class="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
        <!-- Logo -->
        <div class="flex items-center space-x-2">
            <img th:src="@{images/download.png}" alt="Logo" class="h-12 w-24" />
        </div>

        <!-- Navigation & Actions -->
        <div class="flex items-center space-x-4">
            <!-- View Cart as Button -->
            <a href="/ELibrary/cart"
               class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium transition"
               th:text="#{button.viewcart}">
                View Cart
            </a>

            <!-- Logout Button -->
            <form th:action="@{/logout}" method="post">
                <button type="submit"
                        class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium transition"
                        th:text="#{button.logout}">
                    Logout
                </button>
            </form>

            <!-- Language Buttons -->
            <div class="flex space-x-2">
                <a href="?lang=en"
                   class="bg-white text-blue-700 border border-blue-500 hover:bg-blue-100 px-3 py-1 rounded-md text-sm font-medium transition">
                    EN
                </a>
                <a href="?lang=fr"
                   class="bg-white text-blue-700 border border-blue-500 hover:bg-blue-100 px-3 py-1 rounded-md text-sm font-medium transition">
                    FR
                </a>
            </div>
        </div>
    </div>
</header>

<!-- Books Grid -->
<main class="max-w-7xl mx-auto px-6 py-10">
    <h2 class="text-3xl font-bold text-blue-700 mb-10 text-center" th:text="#{home.featured.title}">Featured Books</h2>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10">
        <div th:each="book : ${books}" class="bg-white rounded-xl shadow-lg hover:shadow-xl transition duration-300">
            <img th:src="@{${book.image}}" alt="Book Image"
                 class="w-full h-60 object-contain bg-blue-200 rounded-t-xl" />

            <div class="p-5">
                <h3 th:text="${book.title}" class="text-lg font-semibold text-blue-800 mb-1"></h3>
                <p th:text="${book.author}" class="text-sm font-semibold text-blue-600 italic mb-2"></p>
                <p th:text="${book.description}" class="text-sm text-gray-700 mb-4 line-clamp-3"></p>

                <div class="flex items-center justify-between">
                    <span th:text="${book.price} + ' â‚¬'" class="text-blue-600 font-semibold text-base"></span>

                    <form th:action="@{/cart/add}" method="post">
                        <input type="hidden" name="bookId" th:value="${book.id}" />
                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                        <button type="submit"
                                class="bg-blue-500 text-white text-sm px-4 py-2 rounded-full hover:bg-blue-600 transition">
                            <span th:text="#{button.addToCart}">Add to cart</span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</main>

</body>
</html>
